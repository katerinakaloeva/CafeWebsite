const translations = {
  el: {
    navHome: "Home",
    navAbout: "About",
    navMenu: "Menu",
    navContact: "Contact",

    slogan: "Coffee • Moments • Quality",

    ctaTitle: "Έτοιμος για τον επόμενο καφέ;",
    ctaText: "Δες το μενού μας ή επικοινώνησε μαζί μας.",
    ctaMenu: "Δες το Μενού",
    ctaContact: "Επικοινωνία",

    featureCoffee: "Ποιοτικός Καφές",
    featureCoffeeText: "Επιλεγμένοι κόκκοι & άψογη παρασκευή.",
    featureAtmosphere: "Ζεστή Ατμόσφαιρα",
    featureAtmosphereText: "Χώρος για χαλάρωση και στιγμές.",
    featureHours: "Καθημερινά",
    featureHoursText: "Από νωρίς το πρωί μέχρι το βράδυ.",

    // about us
    aboutTitle: "Σχετικά με εμάς",
    aboutText:
      "Στο Daily Café πιστεύουμε ότι ο καλός καφές είναι αναπόσπαστο κομμάτι της καθημερινότητάς μας. Το ταξίδι μας ξεκίνησε το 1990, με στόχο να δημιουργήσουμε έναν ζεστό και φιλόξενο χώρο για όλους όσοι αγαπούν τον ποιοτικό καφέ. Από τότε μέχρι σήμερα, παραμένουμε πιστοί στην ποιότητα και τη φροντίδα σε κάθε λεπτομέρεια. Με προσεκτικά επιλεγμένους κόκκους καφέ, φρέσκα ροφήματα και λαχταριστά snacks, προσφέρουμε μια ολοκληρωμένη εμπειρία από το πρωί μέχρι το βράδυ.",

    //  μενού
    menuCoffeeCategory: "Καφέδες",
    menuCoffeeShopCategory: "Καφεκοπτείο",
    menuFreddoEspressoTitle: "Freddo Espresso",
    menuFreddoEspressoDesc: "Κρύος καφές",
    menuEspressoTitle: "Espresso",
    menuEspressoDesc: "Δυνατός καφές με πλούσιο άρωμα",
    menuGreekCoffeeTitle: "Ελληνικός",
    menuGreekCoffeeDesc: "Παραδοσιακός ελληνικός καφές",
    menuAmericanoTitle: "Αμερικάνο",
    menuAmericanoDesc: "Απαλός καφές",
    menuFreddoCappuccinoTitle: "Freddo Cappuccino",
    menuFreddoCappuccinoDesc: "Κρύος καφές",
    menuCappuccinoTitle: "Cappuccino",
    menuCappuccinoDesc: "Αφρόγαλα & espresso",
    menuLatteTitle: "Latte",
    menuLatteDesc: "Απαλός καφές με γάλα",
    menuJuiceTitle: "Φυσικός Χυμός",
    menuJuiceDesc: "Με φρούτα εποχής",
    menuCoffeeShopCategory: "Καφεκοπτείο",
    menuPremiumTitle: "Premium",
    menuPremiumDesc: "100% Arabica – σοκολάτα, ξηροί καρποί, μπισκότο",
    menuElegantTitle: "Elegant",
    menuElegantDesc: "Arabica με κακάο, καστανή ζάχαρη και αποξηραμένα φρούτα",
    menuFlavorTitle: "Flavor",
    menuFlavorDesc: "Blend Arabica & Costa Rica, έντονη καφεΐνη",
    menuDecafTitle: "Decaf",
    menuDecafDesc: "100% Arabica χωρίς καφεΐνη",
    // contact
    contactTitle: "Επικοινωνία",
    contactSubtitle: "Είμαστε πάντα στη διάθεσή σας για οποιαδήποτε απορία",

    contactInfoTitle: "Στοιχεία Επικοινωνίας",
    contactAddress: "Οδός Μερώπης 12, 12345 Αθήνα",
    contactPhone: "+30 210 123 4567",
    contactEmail: "contact@dailycafe.gr",
    contactHours: "Δευτέρα – Κυριακή: 07:00 – 22:00",

    contactFormTitle: "Στείλτε μας μήνυμα",
    contactName: "Ονοματεπώνυμο",
    contactEmailPlaceholder: "Email",
    contactMessage: "Το μήνυμά σας...",
    contactSend: "Αποστολή",
  },

  en: {
    navHome: "Home",
    navAbout: "About",
    navMenu: "Menu",
    navContact: "Contact",

    slogan: "Coffee • Moments • Quality",

    ctaTitle: "Ready for your next coffee?",
    ctaText: "Check our menu or get in touch.",
    ctaMenu: "View Menu",
    ctaContact: "Contact Us",

    featureCoffee: "Quality Coffee",
    featureCoffeeText: "Selected beans & perfect brewing.",
    featureAtmosphere: "Cozy Atmosphere",
    featureAtmosphereText: "A place to relax and enjoy moments.",
    featureHours: "Every Day",
    featureHoursText: "From early morning until late.",
    // about us
    aboutTitle: "About Us",
    aboutText:
      "At Daily Café, we believe that good coffee is an essential part of everyday life.Our journey began in 1990, with the goal of creating a warm and welcoming space for everyone who loves quality coffee.From then until today, we remain committed to quality and attention to every detail.With carefully selected coffee beans, freshly prepared beverages, and delicious snacks, we offer a complete experience from early morning until late in the evening.",

    //  μενού
    menuCoffeeCategory: "Coffees",
    menuCoffeeShopCategory: "Coffee Shop",
    menuFreddoEspressoTitle: "Freddo Espresso",
    menuFreddoEspressoDesc: "Iced coffee",
    menuEspressoTitle: "Espresso",
    menuEspressoDesc: "Strong coffee with rich aroma",

    menuGreekCoffeeTitle: "Greek Coffee",
    menuGreekCoffeeDesc: "Traditional Greek coffee",
    menuAmericanoTitle: "Αmericano",
    menuAmericanoDesc: "Smooth coffee",
    menuFreddoCappuccinoTitle: "Freddo Cappuccino",
    menuFreddoCappuccinoDesc: "Iced cappuccino",
    menuCappuccinoTitle: "Cappuccino",
    menuCappuccinoDesc: "Milk foam & espresso",
    menuLatteTitle: "Latte",
    menuLatteDesc: "Smooth coffee with milk",
    menuJuiceTitle: "Fresh Juice",
    menuJuiceDesc: "Fresh seasonal fruits",

    menuCoffeeShopCategory: "Coffee Shop",
    menuPremiumTitle: "Premium",
    menuPremiumDesc: "100% Arabica – chocolate, nuts, biscuit",
    menuElegantTitle: "Elegant",
    menuElegantDesc: "Arabica with cocoa, brown sugar and dried fruits",
    menuFlavorTitle: "Flavor",
    menuFlavorDesc: "Arabica & Costa Rica blend, high caffeine",
    menuDecafTitle: "Decaf",
    menuDecafDesc: "100% Arabica decaffeinated",
    // contact
    contactTitle: "Contact",
    contactSubtitle: "We are always available for any questions",

    contactInfoTitle: "Contact Information",
    contactAddress: "12 Meropis Street, 12345 Athens",
    contactPhone: "+30 210 123 4567",
    contactEmail: "contact@dailycafe.gr",
    contactHours: "Monday – Sunday: 07:00 – 22:00",

    contactFormTitle: "Send us a message",
    contactName: "Full Name",
    contactEmailPlaceholder: "Email",
    contactMessage: "Your message...",
    contactSend: "Send",
  },
};

function setLanguage(lang) {
  const elements = document.querySelectorAll("[data-key]");
  elements.forEach((el) => {
    const key = el.dataset.key;
    const translation = translations[lang][key];

    if (!translation) return;

    if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
      el.placeholder = translation;
    } else {
      el.textContent = translation;
    }
  });
}
window.addEventListener("DOMContentLoaded", () => {
  const savedLang = localStorage.getItem("language");

  if (savedLang) {
    setLanguage(savedLang);
  } else {
    setLanguage("el");
  }
});

const langEl = document.querySelector("#lang-el");
langEl.addEventListener("click", () => {
  setLanguage("el");
  localStorage.setItem("language", "el");
});
const langEn = document.querySelector("#lang-en");
langEn.addEventListener("click", () => {
  setLanguage("en");
  localStorage.setItem("language", "en");
});

// menu

let cart = [];
document.addEventListener("DOMContentLoaded", () => {
  const saveMenu = localStorage.getItem("cart");
  if (saveMenu) {
    cart = JSON.parse(saveMenu);
  }
  const addToCartButtons = document.querySelectorAll(".add-to-cart");
  const cartTotalEl = document.querySelector("#cart-total");
  cartTotalEl.textContent = getCartCount(cart);

  addToCartButtons.forEach((button) => {
    button.addEventListener("click", () => {
      const menuItem = button.closest(".menu-item");

      const name = menuItem.querySelector("h3").innerText;
      const priceText = menuItem.querySelector(".price").innerText;
      const qty = parseInt(menuItem.querySelector(".qty").value);

      const price = parseFloat(priceText.replace("€", "").replace(",", "."));

      const product = {
        name: name,
        price: price,
        qty: qty,
      };

      addToCart(product);
      let saveTotal = getCartTotal(cart);

      cartTotalEl.textContent = getCartCount(cart) ;
    });
  });
});
function addToCart(product) {
  const existingProduct = cart.find((item) => item.name === product.name);
  if (existingProduct) {
    existingProduct.qty += product.qty;
  } else {
    cart.push(product);
  }

  const chCart = JSON.stringify(cart);
  localStorage.setItem("cart", chCart);
}

function getCartTotal(cart) {
  let total = 0;
  for (let i = 0; i < cart.length; i++) {
    let totalCost = cart[i].price * cart[i].qty;
    total += totalCost;
  }
  return total;
}

function getCartCount (items) {
  let count=0
  for(let i=0; i<items.length; i++){
    count +=  items[i].qty
  }
  return count
}


// cartModal

 const cartModal = document.querySelector("#cartModal");
const cartItemsEl = document.querySelector("#cart-items");
const cartModalTotal = document.querySelector("#cart-modal-total");
cartModal.addEventListener("show.bs.modal",()=>{
   renderCartModal()
})
function renderCartModal () {
 cartItemsEl.innerHTML= ""
 if (cart.length===0){
  cartItemsEl.innerHTML ="Το καλάθι είναι άδειο"
  cartModalTotal.textContent= "0.00€"
  return
 }
 cartItemsEl.innerHTML = `
    <div class="row fw-bold border-bottom mb-2 pb-1">
      <div class="col-5">Προϊόν</div>
      <div class="col-3 text-center">Ποσότητα</div>
      <div class="col-3 text-end">Τιμή</div>
      <div class="col-1"></div>
    </div>`;
cart.forEach((item, index) => {
    cartItemsEl.innerHTML += `
      <div class="row align-items-center mb-2">
        <div class="col-5">
          <span>${item.name}</span>
        </div>
        <div class="col-3 text-center">
          <span class="text-muted">x ${item.qty}</span>
        </div>
        <div class="col-3 text-end">
          <span class="fw-medium">${(item.price * item.qty).toFixed(2)}€</span>
        </div>
        <div class="col-1 text-end">
          <button class="btn btn-sm text-danger remove-item" data-index="${index}">
            <i class="bi bi-trash"></i>
          </button>
        </div>
      </div>`;
  });

cartModalTotal.textContent= getCartTotal(cart).toFixed(2)+ "€"

const removeButtons= document.querySelectorAll(".remove-item")
removeButtons.forEach((item) => {
item.addEventListener("click", (event) =>{
  const index = event.currentTarget.dataset.index
    removeFromCart(index)
})
  

})

}

function removeFromCart (index){
  cart.splice(index,1)
  const saveChanges= JSON.stringify(cart)
   localStorage.setItem("cart", saveChanges)
   


    const cartTotal=document.querySelector("#cart-total")
    cartTotal.textContent = getCartCount(cart) ;
    renderCartModal();
    
  }
 


